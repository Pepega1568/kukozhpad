# Руководство по сборке

## Компоненты
### Необходимые
| Деталь | Количество | Примечание |
|:-|:-|:-|
| PCB                   | 1      | |
| Плейт/дно             | 2      | |
| Pro Micro или аналоги | 1      | |
| Тактильная кнопка     | 1      | |
| Диоды                 | 16     | 1N4148 SOD-323/0603 или Thru-hole |
| Переключатели         | 16     | Хаузинги с защелками по типу Kailh потребуют доработки плейта напильником |
| Кейкапы               | 16     | 1u |
| Стойки M2 12/14mm     | 4      | С 12 мм стойками дно упирается в порт промикры, если использовать 3.5 мм хедеры |
| Винты M2              | 8      | |


### Необязательные
| Деталь | Количество | Примечание |
|:-|:-|:-|
| 12х1 3.5 мм панели/хедеры или их аналоги   | 2 | |
| Thru-hole светодиоды  | 16 | 3mm Fingeless / 1.8 mm / 2x3x4 mm|
| Резисторы 330 Ом      | 17 | 17x0603 или 16xTHT + 1x0603|
| NPN мосфет            | 1  | |
| Бампоны               | 4  | |


## Пайка
### Диоды

Припаяйте диоды на соотвествующие им места на плате. Соблюдайте указанную на плате полярность диодов.

![image](https://i.imgur.com/fshrN9s.jpg)


### Подсветка (Необязательно)

Для работы светодиодов необходимо также припаять резисторы и мосфет
![image](https://i.imgur.com/v1R1uE3.jpg)

### Кнопка Reset
 
Заполните сквозные отверстия припоем до формирования плоской поверхности, затем с помощью флюса припаяйте к ним кнопку.

![image](https://i.imgur.com/p3CwNNu.jpg)

### ProMicro

Промикра устанавливается с обратной стороны платы (надпись "Pro Micro on this side"), при этом её компоненты должны быть расположены с наружной стороны

#### __Установка промикры без хотсвапа__
Вставьте и припаяйте хедеры, идущие в комплекте с промикрой, к печатной плате, но пока не припаивайте саму промикру. Сперва припаяйте свитчи, и только после этого припаивайте промикру

#### __Установка промикры с хотсвапом__
Подготовьте 2 полоски пластиковых хедеров по 12 дырок. Для аккуратности можно сделать надрез в месте отлома, а потом отломить по нему. Припаяйте их к плате.
![image](https://i.imgur.com/tf0isCd.jpg)
Теперь сдвиньте пластик на комплектных хедерах до самого конца пинов, но не снимайте его. Положите промикру на сокеты и вставьте комплектные хедеры, после чего припаяйте их к промикре.
![image](https://i.imgur.com/czkm85q.jpg)
Не снимая пластик с пинов, выньте промикру из сокета. Теперь снимите пластик. Если какие-либо из пинов болтаются, наденьте пластик обратно, вставьте промикру в сокет и припаяйте болтающиеся пины. Повторять до готовности.
![image](https://i.imgur.com/uLNaW9A.jpg)
Вставьте промикру в сокет и обрежьте излишки пинов.
![image](https://i.imgur.com/0zDNZuZ.jpg)

## Сборка
### Плейт
С помощью щипцов или другого подручного инструмента, начните поворачивать квадраты в плейте поочерёдно в разные стороны. Они очень тугие, и выламывание их голыми руками представляет из себя непростую задачу.
![image](https://i.imgur.com/7EcAMrc.jpg)
Если вы используете свитчи с корпусами Kailh (BOX, Halo, Hako, Kailh Pro и другие), то также удалите заусенцы надфилем. 
После выламывания желаемого количества мест под свитчи, установите их в образовавшиеся вырезы и наденьте на их ноги печатную плату. Если не возникло никаких проблем, можете приступать к пайке свитчей.
![image](https://i.imgur.com/kPObTLE.jpg)

### Пайка свитчей и светодиодов.
Достаньте промикру из сокета/снимите её с хедеров. Припаяйте ноги свитчей к плате, затем вставьте светодиоды и повторите процедуру для них.
После пайки установите промику обратно в сокет/припаяйте её, прикрутите к плейту с платой стойки, затем положите на эти стойки дно и привинтите его.
![image](https://i.imgur.com/XPU5XI6.jpg)
![image](https://i.imgur.com/yMQ1j1n.jpg)

## Прошивка
Установите QMK:
https://docs.qmk.fm/#/newbs_getting_started
Файлы прошивки можно найти в [этой репе](https://github.com/Uselessful/keyboard-things/tree/test/qmk_dump/kukozhpad).
В своём форке QMK закиньте их в qmk/keyboards и соберите прошивку следующей командой:

```
make kukozhpad:default
```

Чтобы зашить это в промикру, выполните следующее:

```
make kukozhpad:default:avrdude
```

Вы увидите `.` после сообщения ниже.
Пока вы видите, что `.` печатаются на экране, __два раза__ нажмите кнопку Reset.

```
(snip)

Copying kukozhpad_default.hex to qmk_firmware folder                                               [OK]
Checking file size of kukozhpad_default.hex                                                        [OK]
 * The firmware size is fine - 16396/28672 (57%, 12276 bytes free)
Detecting USB port, reset your controller now........
```

Всё.
